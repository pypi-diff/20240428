# Comparing `tmp/aiohttp_pydantic-2.0.0-py3-none-any.whl.zip` & `tmp/aiohttp_pydantic-2.1.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,19 +1,20 @@
-Zip file size: 20105 bytes, number of entries: 17
--rw-r--r--  2.0 unx       97 b- defN 23-Oct-01 09:47 aiohttp_pydantic/__init__.py
--rw-r--r--  2.0 unx    10157 b- defN 23-Oct-01 09:42 aiohttp_pydantic/injectors.py
--rw-r--r--  2.0 unx      444 b- defN 23-Sep-01 11:57 aiohttp_pydantic/utils.py
--rw-r--r--  2.0 unx     5037 b- defN 23-Oct-01 09:42 aiohttp_pydantic/view.py
--rw-r--r--  2.0 unx      999 b- defN 23-Sep-01 11:57 aiohttp_pydantic/oas/__init__.py
--rw-r--r--  2.0 unx      178 b- defN 23-Sep-01 11:57 aiohttp_pydantic/oas/__main__.py
--rw-r--r--  2.0 unx     3414 b- defN 23-Sep-01 11:57 aiohttp_pydantic/oas/cmd.py
--rw-r--r--  2.0 unx     4031 b- defN 23-Sep-01 11:57 aiohttp_pydantic/oas/docstring_parser.py
--rw-rw-r--  2.0 unx     1823 b- defN 23-Sep-01 11:57 aiohttp_pydantic/oas/index.j2
--rw-r--r--  2.0 unx     8440 b- defN 23-Sep-01 11:57 aiohttp_pydantic/oas/struct.py
--rw-r--r--  2.0 unx     1226 b- defN 23-Sep-01 11:57 aiohttp_pydantic/oas/typing.py
--rw-r--r--  2.0 unx     6865 b- defN 23-Oct-01 09:42 aiohttp_pydantic/oas/view.py
--rw-rw-r--  2.0 unx     1072 b- defN 23-Oct-01 11:09 aiohttp_pydantic-2.0.0.dist-info/LICENSE
--rw-r--r--  2.0 unx    14155 b- defN 23-Oct-01 11:09 aiohttp_pydantic-2.0.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Oct-01 11:09 aiohttp_pydantic-2.0.0.dist-info/WHEEL
--rw-rw-r--  2.0 unx       17 b- defN 23-Oct-01 11:09 aiohttp_pydantic-2.0.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1466 b- defN 23-Oct-01 11:09 aiohttp_pydantic-2.0.0.dist-info/RECORD
-17 files, 59513 bytes uncompressed, 17675 bytes compressed:  70.3%
+Zip file size: 20933 bytes, number of entries: 18
+-rw-r--r--  2.0 unx       97 b- defN 24-Apr-28 14:45 aiohttp_pydantic/__init__.py
+-rw-r--r--  2.0 unx    10157 b- defN 24-Apr-28 13:51 aiohttp_pydantic/injectors.py
+-rw-r--r--  2.0 unx      444 b- defN 24-Feb-06 19:08 aiohttp_pydantic/utils.py
+-rw-r--r--  2.0 unx     5037 b- defN 24-Apr-28 13:51 aiohttp_pydantic/view.py
+-rw-r--r--  2.0 unx     1111 b- defN 24-Apr-28 13:51 aiohttp_pydantic/oas/__init__.py
+-rw-r--r--  2.0 unx      178 b- defN 24-Feb-06 19:08 aiohttp_pydantic/oas/__main__.py
+-rw-r--r--  2.0 unx     3414 b- defN 24-Apr-28 13:51 aiohttp_pydantic/oas/cmd.py
+-rw-r--r--  2.0 unx      678 b- defN 24-Apr-28 14:45 aiohttp_pydantic/oas/definition.py
+-rw-r--r--  2.0 unx     4031 b- defN 24-Feb-06 19:08 aiohttp_pydantic/oas/docstring_parser.py
+-rw-r--r--  2.0 unx     1823 b- defN 24-Feb-06 19:08 aiohttp_pydantic/oas/index.j2
+-rw-r--r--  2.0 unx     8440 b- defN 24-Feb-06 19:08 aiohttp_pydantic/oas/struct.py
+-rw-r--r--  2.0 unx     1226 b- defN 24-Feb-06 19:08 aiohttp_pydantic/oas/typing.py
+-rw-r--r--  2.0 unx     7613 b- defN 24-Apr-28 14:45 aiohttp_pydantic/oas/view.py
+-rw-r--r--  2.0 unx     1072 b- defN 24-Apr-28 14:47 aiohttp_pydantic-2.1.0.dist-info/LICENSE
+-rw-r--r--  2.0 unx    14386 b- defN 24-Apr-28 14:47 aiohttp_pydantic-2.1.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-28 14:47 aiohttp_pydantic-2.1.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       17 b- defN 24-Apr-28 14:47 aiohttp_pydantic-2.1.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1557 b- defN 24-Apr-28 14:47 aiohttp_pydantic-2.1.0.dist-info/RECORD
+18 files, 61373 bytes uncompressed, 18359 bytes compressed:  70.1%
```

## zipnote {}

```diff
@@ -15,14 +15,17 @@
 
 Filename: aiohttp_pydantic/oas/__main__.py
 Comment: 
 
 Filename: aiohttp_pydantic/oas/cmd.py
 Comment: 
 
+Filename: aiohttp_pydantic/oas/definition.py
+Comment: 
+
 Filename: aiohttp_pydantic/oas/docstring_parser.py
 Comment: 
 
 Filename: aiohttp_pydantic/oas/index.j2
 Comment: 
 
 Filename: aiohttp_pydantic/oas/struct.py
@@ -30,23 +33,23 @@
 
 Filename: aiohttp_pydantic/oas/typing.py
 Comment: 
 
 Filename: aiohttp_pydantic/oas/view.py
 Comment: 
 
-Filename: aiohttp_pydantic-2.0.0.dist-info/LICENSE
+Filename: aiohttp_pydantic-2.1.0.dist-info/LICENSE
 Comment: 
 
-Filename: aiohttp_pydantic-2.0.0.dist-info/METADATA
+Filename: aiohttp_pydantic-2.1.0.dist-info/METADATA
 Comment: 
 
-Filename: aiohttp_pydantic-2.0.0.dist-info/WHEEL
+Filename: aiohttp_pydantic-2.1.0.dist-info/WHEEL
 Comment: 
 
-Filename: aiohttp_pydantic-2.0.0.dist-info/top_level.txt
+Filename: aiohttp_pydantic-2.1.0.dist-info/top_level.txt
 Comment: 
 
-Filename: aiohttp_pydantic-2.0.0.dist-info/RECORD
+Filename: aiohttp_pydantic-2.1.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## aiohttp_pydantic/__init__.py

```diff
@@ -1,5 +1,5 @@
 from .view import PydanticView
 
-__version__ = "2.0.0"
+__version__ = "2.1.0"
 
 __all__ = ("PydanticView", "__version__")
```

## aiohttp_pydantic/oas/__init__.py

```diff
@@ -2,31 +2,33 @@
 from typing import Iterable, Optional
 
 import jinja2
 from aiohttp import web
 from swagger_ui_bundle import swagger_ui_path
 
 from .view import get_oas, oas_ui
+from .definition import (
+    key_apps_to_expose, key_index_template, key_version_spec, key_title_spec)
 
 
 def setup(
     app: web.Application,
     apps_to_expose: Iterable[web.Application] = (),
     url_prefix: str = "/oas",
     enable: bool = True,
     version_spec: Optional[str] = None,
     title_spec: Optional[str] = None,
 ):
     if enable:
         oas_app = web.Application()
-        oas_app["apps to expose"] = tuple(apps_to_expose) or (app,)
-        oas_app["index template"] = jinja2.Template(
+        oas_app[key_apps_to_expose] = tuple(apps_to_expose) or (app,)
+        oas_app[key_index_template] = jinja2.Template(
             resources.read_text("aiohttp_pydantic.oas", "index.j2")
         )
-        oas_app["version_spec"] = version_spec
-        oas_app["title_spec"] = title_spec
+        oas_app[key_version_spec] = version_spec
+        oas_app[key_title_spec] = title_spec
 
         oas_app.router.add_get("/spec", get_oas, name="spec")
         oas_app.router.add_static("/static", swagger_ui_path, name="static")
         oas_app.router.add_get("", oas_ui, name="index")
 
         app.add_subapp(url_prefix, oas_app)
```

## aiohttp_pydantic/oas/view.py

```diff
@@ -1,23 +1,33 @@
 import typing
+import warnings
 from inspect import getdoc
 from itertools import count
 from typing import List, Optional, Type, get_type_hints
 
 from aiohttp.web import Response, json_response
 from aiohttp.web_app import Application
 from pydantic import RootModel
 
 from ..injectors import _parse_func_signature
 from ..utils import is_pydantic_base_model
 from ..view import PydanticView, is_pydantic_view
 from . import docstring_parser
+from .definition import (
+    AIOHTTP_HAS_APP_KEY,
+    key_apps_to_expose,
+    key_index_template,
+    key_title_spec,
+    key_version_spec,
+)
 from .struct import OpenApiSpec3, OperationObject, PathItem
 from .typing import is_status_code_type
 
+_APP_KEY_NOT_SET = object()
+
 
 class _OASResponseBuilder:
     """
     Parse the type annotated as returned by a function and
     generate the OAS operation response.
     """
 
@@ -163,29 +173,39 @@
                         _add_http_method_to_oas(oas, path, method_name, view)
                 else:
                     _add_http_method_to_oas(oas, path, resource_route.method, view)
 
     return oas.spec
 
 
+def _app_key_or_string(app, app_key, str_key):
+    if app_key in app:
+        return app[app_key]
+    if AIOHTTP_HAS_APP_KEY:
+        key_name = "key_" + str_key.replace(" ", "_")
+        warnings.warn(f"Use from aiohttp_pydantic.oas.definition import {key_name}; app[{key_name}] = ... "
+                      f"instead of app[{str_key}] = ...", DeprecationWarning, stacklevel=4)
+    return app[str_key]
+
+
 async def get_oas(request):
     """
     View to generate the Open Api Specification from PydanticView in application.
     """
-    apps = request.app["apps to expose"]
-    version_spec = request.app["version_spec"]
-    title_spec = request.app["title_spec"]
+    apps = _app_key_or_string(request.app, key_apps_to_expose, "apps to expose")
+    version_spec = _app_key_or_string(request.app, key_version_spec, "version spec")
+    title_spec = _app_key_or_string(request.app, key_title_spec, "title spec")
     return json_response(generate_oas(apps, version_spec, title_spec))
 
 
 async def oas_ui(request):
     """
     View to serve the swagger-ui to read open api specification of application.
     """
-    template = request.app["index template"]
+    template = _app_key_or_string(request.app, key_index_template, "index template")
 
     return Response(
         text=template.render(
             {
                 "openapi_spec_url": request.app.router['spec'].canonical,
                 "static_url": request.app.router['static'].canonical,
             }
```

## Comparing `aiohttp_pydantic-2.0.0.dist-info/LICENSE` & `aiohttp_pydantic-2.1.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `aiohttp_pydantic-2.0.0.dist-info/METADATA` & `aiohttp_pydantic-2.1.0.dist-info/METADATA`

 * *Files 3% similar despite different names*

```diff
@@ -1,29 +1,33 @@
 Metadata-Version: 2.1
-Name: aiohttp-pydantic
-Version: 2.0.0
+Name: aiohttp_pydantic
+Version: 2.1.0
 Summary: Aiohttp View using pydantic to validate request body and query sting regarding method annotations.
 Home-page: https://github.com/Maillol/aiohttp-pydantic
 Author: Vincent Maillol
 Author-email: vincent.maillol@gmail.com
 License: MIT
 Keywords: aiohttp,pydantic,annotations,validation
 Classifier: Intended Audience :: Developers
 Classifier: Intended Audience :: Information Technology
 Classifier: Programming Language :: Python
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3 :: Only
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
+Classifier: Programming Language :: Python :: 3.10
+Classifier: Programming Language :: Python :: 3.11
+Classifier: Programming Language :: Python :: 3.12
 Classifier: Topic :: Software Development :: Libraries :: Application Frameworks
 Classifier: Framework :: aiohttp
 Classifier: License :: OSI Approved :: MIT License
 Requires-Python: >=3.8
 License-File: LICENSE
 Requires-Dist: aiohttp
+Requires-Dist: packaging
 Requires-Dist: pydantic <3.0,>=2.0
 Requires-Dist: swagger-ui-bundle
 Provides-Extra: ci
 Requires-Dist: pytest ==7.2.0 ; extra == 'ci'
 Requires-Dist: pytest-aiohttp ==1.0.5 ; extra == 'ci'
 Requires-Dist: pytest-cov ==4.0.0 ; extra == 'ci'
 Requires-Dist: readme-renderer ==37.3 ; extra == 'ci'
@@ -36,17 +40,17 @@
 Requires-Dist: pytest-cov ==4.0.0 ; extra == 'test'
 Requires-Dist: readme-renderer ==37.3 ; extra == 'test'
 Requires-Dist: build >=1.0.3 ; extra == 'test'
 
 Aiohttp pydantic - Aiohttp View to validate and parse request
 =============================================================
 
-.. image:: https://cloud.drone.io/api/badges/Maillol/aiohttp-pydantic/status.svg
-  :target: https://cloud.drone.io/Maillol/aiohttp-pydantic
-  :alt: Build status for master branch
+.. image:: https://github.com/Maillol/aiohttp-pydantic/actions/workflows/install-package-and-test.yml/badge.svg
+  :target: https://github.com/Maillol/aiohttp-pydantic/actions/workflows/install-package-and-test.yml
+  :alt: CI Status
 
 .. image:: https://img.shields.io/pypi/v/aiohttp-pydantic
   :target: https://img.shields.io/pypi/v/aiohttp-pydantic
   :alt: Latest PyPI package version
 
 .. image:: https://codecov.io/gh/Maillol/aiohttp-pydantic/branch/main/graph/badge.svg
   :target: https://codecov.io/gh/Maillol/aiohttp-pydantic
```

## Comparing `aiohttp_pydantic-2.0.0.dist-info/RECORD` & `aiohttp_pydantic-2.1.0.dist-info/RECORD`

 * *Files 11% similar despite different names*

```diff
@@ -1,17 +1,18 @@
-aiohttp_pydantic/__init__.py,sha256=UUp31xdDGilCgZU3CGKj_wm_aLyM1zVDsofXfkdxYDo,97
+aiohttp_pydantic/__init__.py,sha256=6QlEWubu72z9F8q4OX6oGXxbjkceBau4o_bTSx6aUHU,97
 aiohttp_pydantic/injectors.py,sha256=uycWGPruDErQNopSkV_IifNeVHC6XBZ5sBMBes7D99o,10157
 aiohttp_pydantic/utils.py,sha256=BepxYvj4raIV5Vz4MMhCC1ewwuvQdtRZFbyolbhC0ig,444
 aiohttp_pydantic/view.py,sha256=dwEtXrtG4rgbqa6vqISN6AxZDAZyn0ZtM9jxdq6l8fM,5037
-aiohttp_pydantic/oas/__init__.py,sha256=tjqUyyH86LDTMFv2rjwJGoGs3DvkB0cEeWcerGx1X30,999
+aiohttp_pydantic/oas/__init__.py,sha256=VTA-_57MvoU4Fv7mJLiyuaq5KK4wpSr08hMQ8KQK7eE,1111
 aiohttp_pydantic/oas/__main__.py,sha256=xENdUU4gUJUDlkwu-gkQ-uTb8E0V2VudanaJR7JV814,178
 aiohttp_pydantic/oas/cmd.py,sha256=3W0RST8bQHzpfGXdt4byhgqB5RF6WtlH6lR0Zh6alos,3414
+aiohttp_pydantic/oas/definition.py,sha256=bj94Bol95Bf2pw0oCazize1gr9ZponevpeBH0kEYTsU,678
 aiohttp_pydantic/oas/docstring_parser.py,sha256=U5DPOk3T1_6iEPWOLYib2Y4jT_loQPZNMJL3a7atwsc,4031
 aiohttp_pydantic/oas/index.j2,sha256=qL1bXKnWjUGo_iMCnZTZrUCQwDyJJUa445-1nzLDjvo,1823
 aiohttp_pydantic/oas/struct.py,sha256=_8iyUJfWAv2AyTFJoKQblt1c7OSmSSFzyNUGQQ2a33s,8440
 aiohttp_pydantic/oas/typing.py,sha256=4WZPNk-nycfKm2jSu8ex0FQCSY6Lyt7h1QW5M0tOy1o,1226
-aiohttp_pydantic/oas/view.py,sha256=7Ye46YdNiQ7_7PIrTpQC5pgIsubinZeazpoIUX3RBLE,6865
-aiohttp_pydantic-2.0.0.dist-info/LICENSE,sha256=n7KxVZHGC5OISzqDX7cQ4RbWdXxg1FkFEnMKpnosff8,1072
-aiohttp_pydantic-2.0.0.dist-info/METADATA,sha256=t0ZokFfizJZwguGmaAPpvT0SIwgUulMY2OYK_fLUA-c,14155
-aiohttp_pydantic-2.0.0.dist-info/WHEEL,sha256=yQN5g4mg4AybRjkgi-9yy4iQEFibGQmlz78Pik5Or-A,92
-aiohttp_pydantic-2.0.0.dist-info/top_level.txt,sha256=EuM8hK21eeaLnsdWoGwj2zz8xWsdxbGNHRpFq4ysjSw,17
-aiohttp_pydantic-2.0.0.dist-info/RECORD,,
+aiohttp_pydantic/oas/view.py,sha256=2UOZbP8x-c7_V3q27airvye3tqFZ8AFLxj4Xswh9rrU,7613
+aiohttp_pydantic-2.1.0.dist-info/LICENSE,sha256=n7KxVZHGC5OISzqDX7cQ4RbWdXxg1FkFEnMKpnosff8,1072
+aiohttp_pydantic-2.1.0.dist-info/METADATA,sha256=EaBQWpjuRx1LfKBH67SCyH0h99_J0oWXOQ0nVxqpBMg,14386
+aiohttp_pydantic-2.1.0.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+aiohttp_pydantic-2.1.0.dist-info/top_level.txt,sha256=EuM8hK21eeaLnsdWoGwj2zz8xWsdxbGNHRpFq4ysjSw,17
+aiohttp_pydantic-2.1.0.dist-info/RECORD,,
```


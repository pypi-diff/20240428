# Comparing `tmp/pyrnnoise-0.1.3-py3-none-manylinux1_x86_64.whl.zip` & `tmp/pyrnnoise-0.1.4-py3-none-manylinux1_x86_64.whl.zip`

## zipinfo {}

```diff
@@ -1,13 +1,13 @@
-Zip file size: 5080497 bytes, number of entries: 11
--rw-r--r--  2.0 unx      632 b- defN 24-Apr-28 10:01 pyrnnoise-0.1.3.data/purelib/pyrnnoise/__init__.py
--rw-r--r--  2.0 unx      760 b- defN 24-Apr-28 10:01 pyrnnoise-0.1.3.data/purelib/pyrnnoise/cli.py
--rw-r--r--  2.0 unx     1929 b- defN 24-Apr-28 10:01 pyrnnoise-0.1.3.data/purelib/pyrnnoise/frame_queue.py
--rw-r--r--  2.0 unx  5620888 b- defN 24-Apr-28 10:01 pyrnnoise-0.1.3.data/purelib/pyrnnoise/librnnoise.so
--rw-r--r--  2.0 unx     3383 b- defN 24-Apr-28 10:01 pyrnnoise-0.1.3.data/purelib/pyrnnoise/pyrnnoise.py
--rw-r--r--  2.0 unx    11357 b- defN 24-Apr-28 10:01 pyrnnoise-0.1.3.dist-info/LICENSE
--rw-r--r--  2.0 unx      527 b- defN 24-Apr-28 10:01 pyrnnoise-0.1.3.dist-info/METADATA
--rw-r--r--  2.0 unx      107 b- defN 24-Apr-28 10:01 pyrnnoise-0.1.3.dist-info/WHEEL
--rw-r--r--  2.0 unx       47 b- defN 24-Apr-28 10:01 pyrnnoise-0.1.3.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       10 b- defN 24-Apr-28 10:01 pyrnnoise-0.1.3.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1031 b- defN 24-Apr-28 10:01 pyrnnoise-0.1.3.dist-info/RECORD
-11 files, 5640671 bytes uncompressed, 5078715 bytes compressed:  10.0%
+Zip file size: 5080556 bytes, number of entries: 11
+-rw-r--r--  2.0 unx      632 b- defN 24-Apr-28 13:15 pyrnnoise-0.1.4.data/purelib/pyrnnoise/__init__.py
+-rw-r--r--  2.0 unx      760 b- defN 24-Apr-28 13:15 pyrnnoise-0.1.4.data/purelib/pyrnnoise/cli.py
+-rw-r--r--  2.0 unx     1638 b- defN 24-Apr-28 13:15 pyrnnoise-0.1.4.data/purelib/pyrnnoise/frame_queue.py
+-rw-r--r--  2.0 unx  5620888 b- defN 24-Apr-28 13:15 pyrnnoise-0.1.4.data/purelib/pyrnnoise/librnnoise.so
+-rw-r--r--  2.0 unx     3770 b- defN 24-Apr-28 13:15 pyrnnoise-0.1.4.data/purelib/pyrnnoise/pyrnnoise.py
+-rw-r--r--  2.0 unx    11357 b- defN 24-Apr-28 13:15 pyrnnoise-0.1.4.dist-info/LICENSE
+-rw-r--r--  2.0 unx      527 b- defN 24-Apr-28 13:15 pyrnnoise-0.1.4.dist-info/METADATA
+-rw-r--r--  2.0 unx      107 b- defN 24-Apr-28 13:15 pyrnnoise-0.1.4.dist-info/WHEEL
+-rw-r--r--  2.0 unx       47 b- defN 24-Apr-28 13:15 pyrnnoise-0.1.4.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       10 b- defN 24-Apr-28 13:15 pyrnnoise-0.1.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1031 b- defN 24-Apr-28 13:15 pyrnnoise-0.1.4.dist-info/RECORD
+11 files, 5640767 bytes uncompressed, 5078774 bytes compressed:  10.0%
```

## zipnote {}

```diff
@@ -1,34 +1,34 @@
-Filename: pyrnnoise-0.1.3.data/purelib/pyrnnoise/__init__.py
+Filename: pyrnnoise-0.1.4.data/purelib/pyrnnoise/__init__.py
 Comment: 
 
-Filename: pyrnnoise-0.1.3.data/purelib/pyrnnoise/cli.py
+Filename: pyrnnoise-0.1.4.data/purelib/pyrnnoise/cli.py
 Comment: 
 
-Filename: pyrnnoise-0.1.3.data/purelib/pyrnnoise/frame_queue.py
+Filename: pyrnnoise-0.1.4.data/purelib/pyrnnoise/frame_queue.py
 Comment: 
 
-Filename: pyrnnoise-0.1.3.data/purelib/pyrnnoise/librnnoise.so
+Filename: pyrnnoise-0.1.4.data/purelib/pyrnnoise/librnnoise.so
 Comment: 
 
-Filename: pyrnnoise-0.1.3.data/purelib/pyrnnoise/pyrnnoise.py
+Filename: pyrnnoise-0.1.4.data/purelib/pyrnnoise/pyrnnoise.py
 Comment: 
 
-Filename: pyrnnoise-0.1.3.dist-info/LICENSE
+Filename: pyrnnoise-0.1.4.dist-info/LICENSE
 Comment: 
 
-Filename: pyrnnoise-0.1.3.dist-info/METADATA
+Filename: pyrnnoise-0.1.4.dist-info/METADATA
 Comment: 
 
-Filename: pyrnnoise-0.1.3.dist-info/WHEEL
+Filename: pyrnnoise-0.1.4.dist-info/WHEEL
 Comment: 
 
-Filename: pyrnnoise-0.1.3.dist-info/entry_points.txt
+Filename: pyrnnoise-0.1.4.dist-info/entry_points.txt
 Comment: 
 
-Filename: pyrnnoise-0.1.3.dist-info/top_level.txt
+Filename: pyrnnoise-0.1.4.dist-info/top_level.txt
 Comment: 
 
-Filename: pyrnnoise-0.1.3.dist-info/RECORD
+Filename: pyrnnoise-0.1.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## Comparing `pyrnnoise-0.1.3.data/purelib/pyrnnoise/__init__.py` & `pyrnnoise-0.1.4.data/purelib/pyrnnoise/__init__.py`

 * *Files identical despite different names*

## Comparing `pyrnnoise-0.1.3.data/purelib/pyrnnoise/cli.py` & `pyrnnoise-0.1.4.data/purelib/pyrnnoise/cli.py`

 * *Files identical despite different names*

## Comparing `pyrnnoise-0.1.3.data/purelib/pyrnnoise/frame_queue.py` & `pyrnnoise-0.1.4.data/purelib/pyrnnoise/frame_queue.py`

 * *Files 18% similar despite different names*

```diff
@@ -17,28 +17,23 @@
 
 
 class FrameQueue:
     def __init__(self, frame_size_samples, sample_rate):
         self.frame_size_samples = frame_size_samples
         self.remained_samples = np.empty(0, dtype=np.float32)
         if sample_rate != 48000:
-            self.in_rs = soxr.ResampleStream(sample_rate, 48000, 1, dtype=np.int16)
-            self.out_rs = soxr.ResampleStream(48000, sample_rate, 1, dtype=np.int16)
+            self.rs = soxr.ResampleStream(sample_rate, 48000, 1, dtype=np.int16)
         self.sample_rate = sample_rate
 
     def add_chunk(self, chunk, last=False):
         if self.sample_rate != 48000:
-            chunk = self.in_rs.resample_chunk(chunk)
+            chunk = self.rs.resample_chunk(chunk)
         self.remained_samples = np.concatenate((self.remained_samples, chunk))
         while len(self.remained_samples) >= self.frame_size_samples:
             frame = self.remained_samples[: self.frame_size_samples]
             self.remained_samples = self.remained_samples[self.frame_size_samples :]
-            if self.sample_rate != 48000:
-                frame = self.out_rs.resample_chunk(frame)
             yield frame
 
         if last and len(self.remained_samples) > 0:
             frame = self.remained_samples
             frame = np.pad(frame, (0, self.frame_size_samples - len(frame)))
-            if self.sample_rate != 48000:
-                frame = self.out_rs.resample_chunk(frame)
             yield frame
```

## Comparing `pyrnnoise-0.1.3.data/purelib/pyrnnoise/librnnoise.so` & `pyrnnoise-0.1.4.data/purelib/pyrnnoise/librnnoise.so`

 * *Files identical despite different names*

## Comparing `pyrnnoise-0.1.3.data/purelib/pyrnnoise/pyrnnoise.py` & `pyrnnoise-0.1.4.data/purelib/pyrnnoise/pyrnnoise.py`

 * *Files 11% similar despite different names*

```diff
@@ -47,41 +47,54 @@
 lib.rnnoise_process_frame.restype = ctypes.c_float
 
 
 class RNNoise:
     def __init__(self, sample_rate):
         self.denoise_state = lib.rnnoise_create(None)
         self.frame_size_samples = lib.rnnoise_get_frame_size()
+        self.frame_size_ms = self.frame_size_samples * 1000 // sample_rate
+
         self.queue = FrameQueue(self.frame_size_samples, sample_rate)
+        if sample_rate != 48000:
+            self.rs = soxr.ResampleStream(48000, sample_rate, 1, dtype=np.int16)
+        self.sample_rate = sample_rate
 
     def __del__(self):
         lib.rnnoise_destroy(self.denoise_state)
 
     def process_chunk(self, chunk):
         for frame in self.queue.add_chunk(chunk):
             data = frame.astype(np.float32)
             in_ptr = data.ctypes.data_as(ctypes.POINTER(ctypes.c_float))
             vad_prob = lib.rnnoise_process_frame(self.denoise_state, in_ptr, in_ptr)
-            yield vad_prob, data.astype(np.int16)
+            frame = data.astype(np.int16)
+            if self.sample_rate != 48000:
+                frame = self.rs.resample_chunk(frame)
+            yield vad_prob, frame
 
     def process_wav(self, in_path, out_path):
         with wave.open(in_path) as in_wav, wave.open(out_path, "w") as out_wav:
             sr = in_wav.getframerate()
             assert in_wav.getnchannels() == 1
             assert in_wav.getsampwidth() == 2
             out_wav.setnchannels(1)
             out_wav.setsampwidth(2)
             out_wav.setframerate(sr)
 
-            # chunk_size_samples = self.frame_size_samples
-            chunk_size_samples = 30 * sr // 1000
-            n_frames = in_wav.getnframes() // self.frame_size_samples
-            progress_bar = tqdm(total=n_frames, desc="Denoising audio", unit="chunks", bar_format="{l_bar}{bar}{r_bar} | {percentage:.2f}%")
+            n_frames = in_wav.getnframes() * 1000 / sr // self.frame_size_ms
+            chunk_size_samples = self.frame_size_samples
+            progress_bar = tqdm(
+                total=n_frames,
+                desc="Denoising audio",
+                unit="chunks",
+                bar_format="{l_bar}{bar}{r_bar} | {percentage:.2f}%",
+            )
             while True:
                 chunk = in_wav.readframes(chunk_size_samples)
                 if not chunk:
                     break
                 chunk = np.frombuffer(chunk, dtype=np.int16)
+
                 for speech_prob, frame in self.process_chunk(chunk):
                     out_wav.writeframes(frame)
                     progress_bar.update(1)
                     yield speech_prob
```

## Comparing `pyrnnoise-0.1.3.dist-info/LICENSE` & `pyrnnoise-0.1.4.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `pyrnnoise-0.1.3.dist-info/RECORD` & `pyrnnoise-0.1.4.dist-info/RECORD`

 * *Files 22% similar despite different names*

```diff
@@ -1,11 +1,11 @@
-pyrnnoise-0.1.3.data/purelib/pyrnnoise/__init__.py,sha256=2_oq5krHb2ZeuyJF5W0c8I5YasxdY0MyHl_ZASobm2E,632
-pyrnnoise-0.1.3.data/purelib/pyrnnoise/cli.py,sha256=L1tImWor86Frd9LxLYC1EiETkRdKQbnx1EzLkRvi7uI,760
-pyrnnoise-0.1.3.data/purelib/pyrnnoise/frame_queue.py,sha256=9XJLUvLK15rW1Rx-P24t7dgG7H5kXN5VGs6DpueGJZs,1929
-pyrnnoise-0.1.3.data/purelib/pyrnnoise/librnnoise.so,sha256=Jny8lBiQgVvxruVT7SO_Mm2RNvMNk3lQOg970XjswQg,5620888
-pyrnnoise-0.1.3.data/purelib/pyrnnoise/pyrnnoise.py,sha256=PEVnR1rZDti69oNHuBdaDgiOg3lfuVFJGPay9kVDQoM,3383
-pyrnnoise-0.1.3.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
-pyrnnoise-0.1.3.dist-info/METADATA,sha256=Yap8hCCFcs8_ke63MMoAeU3Fobq6XVIMulrwyE8Prl8,527
-pyrnnoise-0.1.3.dist-info/WHEEL,sha256=ILbpyDh5nEtfm8C49pgaj4nzkp3XS6heN4gkduq47lU,107
-pyrnnoise-0.1.3.dist-info/entry_points.txt,sha256=z8ixRvP5sl3WC0L62YeQaxHeQSqWZdqgG0Nb-BByETQ,47
-pyrnnoise-0.1.3.dist-info/top_level.txt,sha256=_2ZZpJrj3mpll2U2B991Czzkwf5GkG5BhLdPYM1lBu0,10
-pyrnnoise-0.1.3.dist-info/RECORD,,
+pyrnnoise-0.1.4.data/purelib/pyrnnoise/__init__.py,sha256=2_oq5krHb2ZeuyJF5W0c8I5YasxdY0MyHl_ZASobm2E,632
+pyrnnoise-0.1.4.data/purelib/pyrnnoise/cli.py,sha256=L1tImWor86Frd9LxLYC1EiETkRdKQbnx1EzLkRvi7uI,760
+pyrnnoise-0.1.4.data/purelib/pyrnnoise/frame_queue.py,sha256=0BRkL0u3A6TuLV04y1U4jzyYgNICyl5dPaBeVNjjGqo,1638
+pyrnnoise-0.1.4.data/purelib/pyrnnoise/librnnoise.so,sha256=Jny8lBiQgVvxruVT7SO_Mm2RNvMNk3lQOg970XjswQg,5620888
+pyrnnoise-0.1.4.data/purelib/pyrnnoise/pyrnnoise.py,sha256=MdznDJd9GLPB9O-mtgwXu0QKOZsL6ngalmnwGCSzHkM,3770
+pyrnnoise-0.1.4.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
+pyrnnoise-0.1.4.dist-info/METADATA,sha256=cWy9W1bvjOAn_0ETXOkSmrAYfRVrO656n_nFPgTjvxg,527
+pyrnnoise-0.1.4.dist-info/WHEEL,sha256=ILbpyDh5nEtfm8C49pgaj4nzkp3XS6heN4gkduq47lU,107
+pyrnnoise-0.1.4.dist-info/entry_points.txt,sha256=z8ixRvP5sl3WC0L62YeQaxHeQSqWZdqgG0Nb-BByETQ,47
+pyrnnoise-0.1.4.dist-info/top_level.txt,sha256=_2ZZpJrj3mpll2U2B991Czzkwf5GkG5BhLdPYM1lBu0,10
+pyrnnoise-0.1.4.dist-info/RECORD,,
```

